# Network - HTTP Header

## 설명

### 1. 일반 헤더

#### 1.1 HTTP 헤더 개요

#### 1.2 표현

#### 1.3 콘텐츠 협상

클라이언트가 선호하는 표현을 요청하는 것으로 Get할 때만 사용한다.
예컨대 한국어로된 사이트를 원하지만, 만일 한국어 사이트가 없다면 영어 사이트를 요청하는 경우가 이에 해당한다.

##### 종류

- Accept: 클라이언트가 선호하는 미디어 타입 전달
- Accept-Charset: 클라이언트가 선호하는 문자 인코딩
- Accept-Encoding: 클라이언트가 선호하는 압촉 인코딩
- Accept-Language: 클라이언트가 선호하는 자연 언어

#### 1.4 전송 방식

##### 종류

1. 단순 전송
2. 압축 전송
3. 분할 전송
4. 범위 전송

#### 1.5 일반 정보

1. Form: 유저 에이전트의 이메일 정보
   크롤링을 하지 말라고 메일을 보내는 경우 활용된다. 그 외에는 잘 사용되지 않는다.
2. Referer: 이전 웹 페이지 정보
   유저 유입 정보를 알아내기 위해 매우 자주 사용된다.
   정확한 스펠링은 Referrer인데 실수로 오타가 난 상태로 만들어졌고 계속 그대로 사용하고 있다.
3. User-Agent: 유저 에이전트 어플케이션 정보
   서버에서 디버깅 시 유용하게 사용되는 정보이다.
4. Server: 요청을 처리하는 오리진 서버의 소프트웨어 정보
   오리진 서버란, 중간에 거치는 프록시 서버가 아닌 나의 요청을 직접적으로 처리하는 서버를 의미한다.
5. Date: 메시지가 생성된 날짜, 응답에서만 사용된다.

#### 1.6 특별한 정보

1. Host: 요청한 호스트 정보 (도메인)
   - 요청에서 사용
   - **필수**
   - 하나의 서버가 여러 도메인을 처리해야 할 때
   - 하나의 IP 주소에 여러 도메인이 적용되어 있을 때
2. Location: 페이지 리다이렉션
3. Allow: 허용가능한 HTTP 메서드
4. Retry-After: 유저 에이전트가 다음 요청을 하기까지 기다려야 하는 시간

#### 1.7 인증

1. Authorization: 클라이언트 인증 정보를 서버에 전달
2. WWW-Authenticate: 리소스 접근 시 필요한 인증 방법 정의
   - 리소스 접근 시 필요한 인증 방법 정의
   - 401 Unauthorized 응답과 함께 사용

#### 1.8 쿠키

1. Set-Cookie: 서버에서 클라이언트로 쿠키 전달 (응답)
2. Cookie: 클라이언트가 서버에서 받은 쿠키를 저장하고, HTTP 요청 시 서버로 전달

- 생명주기를 지정하여 만료일을 지정할 수 있다.

  - expires: 만료일이 되면 쿠키 삭제
  - max-age: 일정 시간 후 쿠키를 삭제하게 할 수 있다. 0이나 음수를 지정하면 쿠키 삭제 (단위: 초)
  - 세션 쿠키: 만료날짜를 생략하면 브라우저 종료 시까지만 유지
  - 영속 쿠키: 만료날짜를 입력하면 해당날짜까지만 유지

- 도메인
  - 지정한 도메인의 하위 도메인에서도 사용할 수 있게 해준다.
- 경로
  - 지정한 경로 하위 경로에서도 사용할 수 있게 해준다.
- 보안
  - Secure
    - 쿠키는 http, https를 구분하지 않고 전송
    - Secure를 적용하면 https인 경우에만 전송
  - HttpOnly
    - XSS 공격 방지
    - 자바스크립트에서 접근 불가 (document.cookie)
    - HTTP 전송에만 허용
  - SameSite
    - XSRF 공격 방지
    - 요청 도메인과 쿠키에 설정된 도메인이 같은 경우만 쿠키 전송

### 2. 캐시와 조건부 요청

#### 2.1 캐시 기본 동작

#### 2.2 검증 헤더와 조건부 요청 1

#### 2.3 검증 헤더와 조건부 요청 2

#### 2.4 캐시와 조건부 요청 헤더

#### 2.5 프록시 캐시

#### 2.6 캐시 무효화

## 요약

## 참고

- [모든 개발자를 위한 HTTP 웹 기본 지식](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard)
- []()
- []()
- []()
